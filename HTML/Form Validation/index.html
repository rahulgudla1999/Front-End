<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script></script>
    </head>
    <body>
        <div class="container">
            <h1>Register</h1>
            <form id="registration_form">
                <div>
                    <input type="text" id="form_fname" name="">
                    <span class="error_form" id="fname_error_message"></span>
                    <label>
                        First Name
                    </label>

                </div>
                <div>
                    <input type="text" id="form_lname" name="">
                    <span class="error_form" id="lname_error_message"></span>
                    <label>
                        Last Name
                    </label>

                </div>
                <div>
                    <input type="text" id="form_email" name="">
                    <span class="error_form" id="email_error_message"></span>
                    <label>
                        Email id
                    </label>

                </div>
                <div>
                    <input type="password" id="form_password" name="">
                    <span class="error_form" id="password_error_message"></span>
                    <label>
                        Password
                    </label>

                </div>
                <div>
                    <input type="password" id="form_retype_password" name="">
                    <span class="error_form" id="retype_password_error_message"></span>
                    <label>
                        Re-Enter Password
                    </label>

                </div>
                <input type="button" value="Register" id="register">
            </form>
        </div>
        <script>
            $(document).ready(function() {
                $("fname_error_message").hide();
                $("lname_error_message").hide();
                $("email_error_message").hide();
                $("password_error_message").hide();
                $("retype_password_error_message").hide();


                var error_fname=false;
                var error_lname=false;
                var error_email=false;
                var error_password=false;
                var error_retype_password=false;

                $("#form_fname").focusout(function(){
                    check_fname();
                });
                $("#form_lname").focusout(function(){
                    check_lname();
                });
                $("#form_email").focusout(function(){
                    check_email();
                });
                $("#form_password").focusout(function(){
                    check_password();
                });
                $("#form_retype_password").focusout(function(){
                    check_retype_password();
                });

                function check_fname(){
                    var pattern = /^[a-zA-Z]*$/;
                    var fname = $("#form_fname").val();
                    if(pattern.test(fname)&& fname!=""){
                        $("fname_error_message").hide();
                        $("#form_fname").css("border-bottom","2px solid green");
                        error_fname=false;
                    }
                    else{
                        $("#fname_error_message").html("Should Contain Only Characters");
                        $("fname_error_message").show();
                        $("#form_fname").css("border-bottom","2px solid red");
                        error_fname=true;
                    }

                }
                
                function check_lname(){
                    var pattern = /^[a-zA-Z]*$/;
                    var lname = $("#form_lname").val();
                    if(pattern.test(lname)&& lname!=""){
                        $("lname_error_message").hide();
                        $("#form_lname").css("border-bottom","2px solid green");
                        error_lname=false;
                    }
                    else{
                        $("#lname_error_message").html("Should Contain Only Characters");
                        $("lname_error_message").show();
                        $("#form_lname").css("border-bottom","2px solid red");
                        error_lname=true;
                    }

                }
                function check_email() {
            var pattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
            var email = $("#form_email").val();
            if (pattern.test(email) && email !== '') {
               $("#email_error_message").hide();
               $("#form_email").css("border-bottom","2px solid green");
               error_email = false;
            } else {
               $("#email_error_message").html("Invalid Email");
               $("#email_error_message").show();
               $("#form_email").css("border-bottom","2px solid red");
               error_email = true;
            }
         }
         function check_password() {
            var password_length = $("#form_password").val().length;
            if (password_length < 8) {
               $("#password_error_message").html("Atleast 8 Characters");
               $("#password_error_message").show();
               $("#form_password").css("border-bottom","2px solid red");
               error_password = true;
            } else {
               $("#password_error_message").hide();
               $("#form_password").css("border-bottom","2px solid green");
               error_password = false;
            }
         }
         
         function check_retype_password() {
            var password = $("#form_password").val();
            var retype_password = $("#form_retype_password").val();
            if (password !== retype_password) {
               $("#retype_password_error_message").html("Passwords Did not Matched");
               $("#retype_password_error_message").show();
               $("#form_retype_password").css("border-bottom","2px solid red");
               error_retype_password = true;
            } else {
               $("#retype_password_error_message").hide();
               $("#form_retype_password").css("border-bottom","2px solid green");
               error_retype_password = false;
            }
         }
         $("#register").click(function() {
            
            error_fname = false;
            error_lname = false;
            error_email = false;
            error_password = false;
            error_retype_password = false;

            check_fname();
            check_lname();
            check_email();
            check_password();
            check_retype_password();
            

            if (error_fname === false && error_lname === false && error_email === false && error_password === false && error_retype_password === false) {
               alert("Registration Successfull");
               window.location.reload();
               return true;
            }
             else {
               alert("Please Fill the form Correctly");
               return false;
            }


         });
            });
        </script>
    </body>
</html>